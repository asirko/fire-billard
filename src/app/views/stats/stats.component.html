<div class="fb-l-panneau">
  <div class="fb-l-panneau-title">Informations générales</div>

  <div class="fb-stat-general-val">
    Tu as joué
    <span class="fb-stat-val">{{agregatedRecords?.getTotal()}}</span>
    parties.
  </div>

  <div class="fb-stat-general-val">
    Tu as réussi à gagner au maximum
    <span class="fb-stat-val">{{agregatedRecords?.serieGagneeLaPlusLongue}}</span>
    parties de suite. <br>
    Ta série actuelle est de
    <span class="fb-stat-val">{{agregatedRecords?.serieGagneeCourante}}</span>
    parties.
  </div>
</div>

<div class="fb-l-panneau">

  <div class="fb-l-panneau-title" (click)="toggleSearch()">
    <div>Moyennes</div>
    <div class="fb-stat-filtre">
      (contre
      <span *ngIf="!filterUser">tout le monde</span>
      <span *ngIf="filterUser">{{filterUser.username}}</span>
      )
    </div>
  </div>

  <div class="fb-add-record-search-opponent" *ngIf="displaySearching">
    <app-search-user (onUserSelected)="selectOpponent($event)"></app-search-user>
  </div>

  <table class="fb-stat-totaux">
    <tr>
      <th>&nbsp;</th>
      <th>Casses</th>
      <th>Reprises</th>
      <th>Total</th>
    </tr>
    <tr>
      <th>Perdue</th>
      <td>
        <div class="fb-stat-totaux-nombre">{{agregatedRecords?.cassePerdu}}</div>
        <div class="fb-stat-totaux-pourcent">{{agregatedRecords?.getPercentCassePerdu() | number:'1.0-1'}}&nbsp;%</div>
      </td>
      <td>
        <div class="fb-stat-totaux-nombre">{{agregatedRecords?.reprisePerdu}}</div>
        <div class="fb-stat-totaux-pourcent">{{agregatedRecords?.getPercentReprisePerdu() | number:'1.0-1'}}&nbsp;%</div>
      </td>
      <td>
        <div class="fb-stat-totaux-nombre">{{agregatedRecords?.getPerdues()}}</div>
        <div class="fb-stat-totaux-pourcent">{{agregatedRecords?.getPercentPerdu() | number:'1.0-1'}}&nbsp;%</div>
      </td>
    </tr>
    <tr>
      <th>Gagnée</th>
      <td>
        <div class="fb-stat-totaux-nombre">{{agregatedRecords?.casseGagne}}</div>
        <div class="fb-stat-totaux-pourcent">{{agregatedRecords?.getPercentCasseGagne() | number:'1.0-1'}}&nbsp;%</div>
      </td>
      <td>
        <div class="fb-stat-totaux-nombre">{{agregatedRecords?.repriseGagne}}</div>
        <div class="fb-stat-totaux-pourcent">{{agregatedRecords?.getPercentRepriseGagne() | number:'1.0-1'}}&nbsp;%</div>
      </td>
      <td>
        <div class="fb-stat-totaux-nombre">{{agregatedRecords?.getGagnees()}}</div>
        <div class="fb-stat-totaux-pourcent">{{agregatedRecords?.getPercentGagne() | number:'1.0-1'}}&nbsp;%</div>
      </td>
    </tr>
    <tr>
      <th>Fermée</th>
      <td>
        <div class="fb-stat-totaux-nombre">{{agregatedRecords?.casseFerme}}</div>
        <div class="fb-stat-totaux-pourcent">{{agregatedRecords?.getPercentCasseFerme() | number:'1.0-1'}}&nbsp;%</div>
      </td>
      <td>
        <div class="fb-stat-totaux-nombre">{{agregatedRecords?.repriseFerme}}</div>
        <div class="fb-stat-totaux-pourcent">{{agregatedRecords?.getPercentRepriseFerme() | number:'1.0-1'}}&nbsp;%</div>
      </td>
      <td>
        <div class="fb-stat-totaux-nombre">{{agregatedRecords?.getFermees()}}</div>
        <div class="fb-stat-totaux-pourcent">{{agregatedRecords?.getPercentFerme() | number:'1.0-1'}}&nbsp;%</div>
      </td>
    </tr>
  </table>
</div>
